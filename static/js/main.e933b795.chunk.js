(this["webpackJsonpimdb-view-app"]=this["webpackJsonpimdb-view-app"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/no_poster.80fa0699.svg"},21:function(e,t,a){e.exports=a(56)},26:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){e.exports=a.p+"static/media/no_actor.3f6cf679.svg"},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o);a(26),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(3),l=a(20),s=a(1),u=a.n(s),m=a(4),p=a(5),d=a.n(p),f="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmOGZjNmQ3OTVlMzhiNmI1NTdmOWNhN2FhZTFjYzViMyIsInN1YiI6IjVmN2NmNmFmZmRmYzlmMDAzOGI1OTBkNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.7mm9P-EFL-HdQVo2gxao0egAaHujxrm3XiuUzWiLnDY",h="f8fc6d795e38b6b557f9ca7aae1cc5b3",v=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,d.a.get(""!==t.trim()?t:"https://api.themoviedb.org/4/list/1",{headers:{Authorization:"Bearer ".concat(f),"Content-Type":"application/json;charset=utf-8"}}).catch((function(e){throw console.error(e),e}));case 3:return a=e.sent,console.log(a),e.abrupt("return",a.data.results.map((function(e){return{title:e.title,posterPath:e.poster_path,releaseDate:e.release_date,id:e.id,voteAverage:e.vote_average,overview:e.overview}})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function g(e){return E.apply(this,arguments)}function E(){return(E=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/movie/".concat(t),{params:{language:"fr-FR",api_key:h},headers:{Authorization:"Bearer "+f,"Content-Type":"application/json;charset=utf-8"}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits"),{params:{language:"fr-FR",api_key:h},headers:{Authorization:"Bearer "+f,"Content-Type":"application/json;charset=utf-8"}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){var e=window.localStorage.getItem("@MyMovieList::Favorites");return e?JSON.parse(e):[]}function N(e){return y().includes(e)}var O=a(7);a(45);function k(e){var t=Math.PI/2,a=e.max||100,n=e.min||0,o=e.note;n>a&&(n=0,a=100,console.error("Invalid d\xe9finition of min and max values")),o>a&&(o=a,console.error("Note out of max range")),o<n&&(o=n,console.error("Note out of min range"));var c,i=(o-n)/(a-n),l=2*i*Math.PI;function s(){var e=c.WHITE;return i>.75?e=c.GREEN:i<.5&&(e=c.RED),e}return function(e){e.GREEN="green",e.RED="red",e.WHITE="white"}(c||(c={})),r.a.createElement("svg",{className:"Gauge",style:Object(O.a)({},e.style),viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},r.a.createElement("title",null,"Note"),r.a.createElement("desc",null,"Gauge of percent satisfaction"),r.a.createElement("path",{d:"M0 200 a 200 200 0 1 0 0 -1 z",fill:e.bgGaugeColor||"#FFFFFF"}),i<1?r.a.createElement("path",{d:"M200 50 A 150 150 0 ".concat(l<Math.PI?0:1," 0 ").concat(200+150*Math.cos(l+t)," ").concat(200-150*Math.sin(l+t)),fill:"transparent",stroke:e.strikeGaugeColor||s(),strokeWidth:"20"}):r.a.createElement("circle",{cx:"200",cy:"200",r:"150",fill:"transparent",stroke:e.strikeGaugeColor||s(),strokeWidth:"20"}),r.a.createElement("text",{x:"200",y:"200",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Helvetica,Verdana, Arial, sans-serif",fontSize:"100",fill:e.fontGaugeColor||s()},o))}a(46);function j(e){return r.a.createElement("div",{className:"MovieItem",onClick:function(){e.onClick(e.data.id)},style:{border:N(e.data.id)?"1px solid red":void 0}},r.a.createElement(k,{note:e.data.voteAverage,max:10,style:{position:"absolute",width:"3em",height:"auto",top:"0.5em",left:"0.5em"},bgGaugeColor:"#222"}),r.a.createElement("img",{alt:"poster",src:e.data.posterPath?"https://image.tmdb.org/t/p/w500/".concat(e.data.posterPath):a(18)}),r.a.createElement("div",null,r.a.createElement("h3",null,e.data.title),r.a.createElement("p",null,e.data.releaseDate)))}a(47);function x(e){var t=e.movies.filter((function(t){var a=new RegExp(e.search,"gi");return""===e.search.trim()||a.test(t.title)}));return r.a.createElement("div",{className:"MoviesList"},t.map((function(t){return r.a.createElement(j,{key:t.id,data:t,onClick:e.onClickItem})})))}a(48);function I(e){var t=e.name,a=e.submit,n=e.className,o=e.onClick,c=e.style;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement("input",{type:"submit",value:t,className:n||"Button",onClick:function(){o&&o()},style:Object(O.a)({},c)}):r.a.createElement("button",{className:n||"Button",onClick:function(){o&&o()},style:Object(O.a)({},c)},t))}a(49);function C(e){var t=e.onSearch,a=Object(n.useState)(""),o=Object(i.a)(a,2),c=o[0],l=o[1];Object(n.useEffect)((function(){""===c.trim()&&s()}),[c]);var s=function(e){e&&e.preventDefault(),t(c)};return r.a.createElement("form",{className:"SearchBar",onSubmit:s},r.a.createElement("input",{placeholder:"Search",type:"text",value:c,onChange:function(e){l(e.target.value)}}),r.a.createElement(I,{submit:!0,name:"Search"}))}a(50),a(51);function M(e){return r.a.createElement("div",{className:"ModalFade",onClick:function(){e.onClose()}},r.a.createElement("div",{className:"ModalContent",onClick:function(e){e.stopPropagation()}},e.children))}a(52);var S=function(e){return r.a.createElement("div",{className:"ActorItem"},r.a.createElement("img",{alt:"actor",src:e.person.profile_path?"https://image.tmdb.org/t/p/w500".concat(e.person.profile_path):a(53)}),r.a.createElement("p",null,r.a.createElement("strong",null,e.person.name)),r.a.createElement("p",null,e.person.character))};a(54);var F=function(e){var t=e.actors;return r.a.createElement("div",{className:"ActorList"},t.map((function(e){return r.a.createElement(S,{key:e.id,person:e})})))};a(55);var R=function(e){var t=e.data,o=Object(n.useState)({}),c=Object(i.a)(o,2),s=c[0],p=c[1],d=Object(n.useState)(N(e.data.id)),f=Object(i.a)(d,2),h=f[0],v=f[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t).catch((function(e){console.error("ERROR",e)}));case 2:return a=e.sent,e.next=5,b(t).catch((function(e){console.error("ERROR",e)}));case 5:n=e.sent,r=n.crew,o=n.cast,p({details:a,cast:o,crew:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e.data.id)}),[e.data.id]),r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,e.data.title),r.a.createElement("button",{className:h?"active":void 0,onClick:function(){h?function(e){var t=y().filter((function(t){return t!==e}));window.localStorage.setItem("@MyMovieList::Favorites",JSON.stringify(t))}(t.id):function(e){var t=y();t.includes(e)||(console.log("Not prensent, add : ",t,e),window.localStorage.setItem("@MyMovieList::Favorites",JSON.stringify([].concat(Object(l.a)(t),[e]))))}(t.id),v(!h)}},h?"-":"+"),s.details&&s.details.backdrop_path?r.a.createElement("img",{alt:"banner of movie",className:"banner",src:s.details.backdrop_path?"https://image.tmdb.org/t/p/w500".concat(s.details.backdrop_path):"https://via.placeholder.com/200"}):null,r.a.createElement("div",{style:{boxSizing:"border-box",overflow:"auto",padding:"2em"}},r.a.createElement("img",{className:"poster",alt:"poster",src:e.data.posterPath?"https://image.tmdb.org/t/p/w500/".concat(e.data.posterPath):a(18)}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Date")," : ",e.data.releaseDate),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Resume")," : ",t.overview)),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Distribution")," :"))),s.cast?r.a.createElement(F,{actors:s.cast}):null))};function J(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),l=Object(i.a)(c,2),s=l[0],u=l[1],m=Object(n.useState)(),p=Object(i.a)(m,2),d=p[0],f=p[1];return Object(n.useEffect)((function(){v().then((function(e){return f(e)}))}),[]),r.a.createElement("div",{className:"Home"},r.a.createElement(C,{onSearch:function(e){e!==a&&(console.log(e),o(e),(""!==e.trim()?v("https://api.themoviedb.org/4/search/movie?query=".concat(encodeURIComponent(e),"&language=fr-FR")):v()).then((function(e){return f(e)})))}}),d?r.a.createElement(x,{search:a,movies:d,onClickItem:function(e){if(d){var t=d.find((function(t){return e===t.id}));u(t)}}}):null,s&&s.id&&s.posterPath&&s.releaseDate&&s.title?r.a.createElement(M,{onClose:function(){u(void 0)}},r.a.createElement(R,{data:s})):null)}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.e933b795.chunk.js.map