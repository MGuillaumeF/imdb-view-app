(this["webpackJsonpimdb-view-app"]=this["webpackJsonpimdb-view-app"]||[]).push([[0],{23:function(e){e.exports=JSON.parse('{"TITLE":"Title","ABOUT":"About","SEARCH":"Search"}')},24:function(e){e.exports=JSON.parse('{"TITLE":"Titre","ABOUT":"A propos","SEARCH":"Rechercher"}')},31:function(e,t,n){e.exports=n(76)},36:function(e,t,n){},37:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){e.exports=n.p+"static/media/heart.baf95af3.svg"},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){e.exports=n.p+"static/media/menu.85f634d4.svg"},74:function(e,t,n){},75:function(e,t,n){e.exports=n.p+"static/media/fr.1f19c69f.svg"},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),c=n.n(o);n(36),n(37),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(6),l=n(9),s=n(23),u=n(24),m=n(30),d={en:{translation:s},fr:{translation:u}};i.a.use(m.a).use(l.e).init({resources:d,lng:"fr",fallbackLng:["en","fr"],debug:!0,interpolation:{escapeValue:!1}});i.a;var f,p,E,h,v,O=n(2),R=n(77),b=n(5),w=n(29),g=n(1),N=n.n(g),y=n(4),S=n(27),T=n.n(S);!function(e){e.FTP="ftp:",e.WS="ws:",e.HTTP="http:",e.FILE="file:"}(f||(f={})),function(e){e.FTPS="ftps:",e.WSS="wss:",e.HTTPS="https:",e.SSH="ssh:"}(p||(p={})),function(e){e.GET="get",e.POST="post",e.PUT="put",e.DELETE="delete",e.PATCH="patch",e.HEAD="head"}(E||(E={})),function(e){e[e.OK=200]="OK",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.AUTHAURIZATION=401]="AUTHAURIZATION",e[e.PERMISSON_DENIED=403]="PERMISSON_DENIED",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.PROXY_ERROR=502]="PROXY_ERROR",e[e.UNREACHABLE_SERVER=-1]="UNREACHABLE_SERVER"}(h||(h={})),function(e){e.OK="OK",e.BAD_REQUEST="Bad Request",e.NOT_FOUND="Not Found",e.METHOD_NOT_ALLOWED="Method not allowed",e.INTERNAL_SERVER_ERROR="Internal server error",e.PROXY_ERROR="Bad Gateway/Proxy Error",e.UNREACHABLE_SERVER="Server not found"}(v||(v={}));var A=function(e){var t=e.protocol||window.location.protocol,n=e.pathname||window.location.pathname,a=e.hostname||window.location.hostname,r=e.port||window.location.port,o=e.query?"?"+Object.entries(e.query).map((function(e){return"".concat(e[0],"=").concat(encodeURIComponent(e[1]))})).join("&"):"";return e.href?e.href+o:"".concat(t,"//").concat(a).concat(r?"".concat(r,":"):"","/").concat(n).concat(o)};function C(e){var t,n;switch(e.toString()){case"200":t=h.OK,n=v.OK;break;case"400":t=h.BAD_REQUEST,n=v.BAD_REQUEST;break;case"404":t=h.NOT_FOUND,n=v.NOT_FOUND;break;case"405":t=h.METHOD_NOT_ALLOWED,n=v.METHOD_NOT_ALLOWED;break;case"500":t=h.INTERNAL_SERVER_ERROR,n=v.INTERNAL_SERVER_ERROR;break;case"502":t=h.PROXY_ERROR,n=v.PROXY_ERROR;break;case"-1":t=h.UNREACHABLE_SERVER,n=v.UNREACHABLE_SERVER;break;default:console.error("UNKNOWN HTTP STATUS"),t=h.INTERNAL_SERVER_ERROR,n=v.INTERNAL_SERVER_ERROR}return{text:n,code:t}}function _(e){return k.apply(this,arguments)}function k(){return(k=Object(y.a)(N.a.mark((function e(t){var n,a,r,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=A(t),a=Date.now(),e.next=4,T.a.request({method:t.method,url:n,headers:t.headers}).catch((function(e){e.response&&(r=e.response),console.error("error",e.response)}));case 4:return r=e.sent,o=C(r?r.status:-1),e.abrupt("return",{duration:Date.now()-a,statusCode:o.code,raison:o.text,headers:r?r.headers:{},body:r?r.request.responseText:""});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x="f8fc6d795e38b6b557f9ca7aae1cc5b3",j={Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmOGZjNmQ3OTVlMzhiNmI1NTdmOWNhN2FhZTFjYzViMyIsInN1YiI6IjVmN2NmNmFmZmRmYzlmMDAzOGI1OTBkNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.7mm9P-EFL-HdQVo2gxao0egAaHujxrm3XiuUzWiLnDY"),"Content-Type":"application/json;charset=utf-8"};function I(e){return D.apply(this,arguments)}function D(){return(D=Object(y.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({method:E.GET,href:"https://api.themoviedb.org".concat(t.pathname),query:Object(b.a)({language:"fr"===i.a.language?"fr-FR":"en"},t.query),headers:Object(b.a)(Object(b.a)({},j),t.headers)}).catch((function(e){throw console.error(e),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(){var e=Object(y.a)(N.a.mark((function e(){var t,n,a,r=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,I({method:E.GET,pathname:""!==t.trim()?t:"/4/list/1"}).catch((function(e){throw console.error(e),e}));case 3:return n=e.sent,a=JSON.parse(n.body),e.abrupt("return",a.results.map((function(e){return{title:e.title,posterPath:e.poster_path,releaseDate:e.release_date,id:e.id,voteAverage:e.vote_average,overview:e.overview}})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function L(){return(L=Object(y.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({method:E.GET,pathname:"/4/search/movie",query:{query:t}});case 2:return n=e.sent,a=JSON.parse(n.body),e.abrupt("return",a.results.map((function(e){return{title:e.title,posterPath:e.poster_path,releaseDate:e.release_date,id:e.id,voteAverage:e.vote_average,overview:e.overview}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return U.apply(this,arguments)}function U(){return(U=Object(y.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({method:E.GET,pathname:"/3/movie/".concat(t),query:{api_key:x}});case 2:return n=e.sent,e.abrupt("return",JSON.parse(n.body));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return H.apply(this,arguments)}function H(){return(H=Object(y.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({method:E.GET,pathname:"/3/movie/".concat(t,"/credits"),query:{api_key:x}});case 2:return n=e.sent,e.abrupt("return",JSON.parse(n.body));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){var e=window.localStorage.getItem("@MyMovieList::Favorites");return e?JSON.parse(e):[]}function G(e){return P().includes(e)}var J,V=n(7);n(56);!function(e){e.BUTTON="button",e.SUBMIT="submit",e.RESET="submit"}(J||(J={}));var W=function(e){return r.a.createElement("button",Object.assign({},e,{type:e.type||J.BUTTON,className:e.className||"Button"}),e.children||e.name)};n(57);var z=function(e){var t=e.onSearch,n=e.inputDefinition,o=Object(V.a)(e,["onSearch","inputDefinition"]),c=Object(R.a)().t,i=Object(a.useState)(""),l=Object(O.a)(i,2),s=l[0],u=l[1];Object(a.useEffect)((function(){""===s.trim()&&m()}),[s]);var m=function(e){e&&e.preventDefault(),t(s)};return r.a.createElement("form",Object.assign({},o,{className:"SearchBar",onSubmit:m}),r.a.createElement("input",Object.assign({placeholder:c("SEARCH"),type:"text",value:s,onChange:function(e){u(e.target.value)}},n)),r.a.createElement(W,{type:J.SUBMIT,name:c("SEARCH")}))};n(63);var q=function(e){return r.a.createElement("div",{className:"ModalFade",onClick:function(){e.onClose()}},r.a.createElement("div",{className:"ModalContent",onClick:function(e){e.stopPropagation()}},e.children))};n(64);function Q(e){var t=Math.PI/2,n=e.max||100,a=e.min||0,o=e.value;a>n&&(a=0,n=100,console.error("Invalid d\xe9finition of min and max values")),o>n&&(o=n,console.error("Note out of max range")),o<a&&(o=a,console.error("Note out of min range"));var c,i=(o-a)/(n-a),l=2*i*Math.PI;function s(){var e=c.WHITE;return i>.75?e=c.GREEN:i<.5&&(e=c.RED),e}return function(e){e.GREEN="green",e.RED="red",e.WHITE="white"}(c||(c={})),r.a.createElement("svg",{className:"Gauge",style:Object(b.a)({},e.style),viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},r.a.createElement("title",null,e.title||"Gauge"),r.a.createElement("desc",null,e.description||"A Gauge"),r.a.createElement("path",{d:"M0 200 a 200 200 0 1 0 0 -1 z",fill:e.bgGaugeColor||"#FFFFFF"}),i<1?r.a.createElement("path",{d:"M200 50 A 150 150 0 ".concat(l<Math.PI?0:1," 0 ").concat(200+150*Math.cos(l+t)," ").concat(200-150*Math.sin(l+t)),fill:"transparent",stroke:e.strikeGaugeColor||s(),strokeWidth:"20"}):r.a.createElement("circle",{cx:"200",cy:"200",r:"150",fill:"transparent",stroke:e.strikeGaugeColor||s(),strokeWidth:"20"}),r.a.createElement("text",{x:"200",y:"200",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Helvetica,Verdana, Arial, sans-serif",fontSize:"100",fill:e.fontGaugeColor||s()},o))}n(65);function Y(e){var t="tt".concat(Date.now()).slice(0,-2);return r.a.createElement("svg",{viewBox:"0 0 ".concat(e.width," ").concat(e.height),xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"Rectangle"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:t,x1:"0%",y1:"0%",x2:"45%",y2:"45%"},r.a.createElement("stop",{offset:"10%",style:{stopColor:e.secondaryColor,stopOpacity:1}}),r.a.createElement("stop",{offset:"100%",style:{stopColor:e.primaryColor,stopOpacity:1}}))),r.a.createElement("rect",{width:e.width,height:e.height,fill:"url(#".concat(t,")"),style:{strokeWidth:3,stroke:"#000000"}}),"Sorry, your browser does not support inline SVG.",r.a.createElement("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Helvetica,Verdana, Arial, sans-serif",fontSize:"50",fill:e.textColor},e.text))}function K(){return r.a.createElement(Y,{text:"Poster not found",textColor:"white",width:500,height:750,primaryColor:"#FF0000",secondaryColor:"#FFFF00"})}function X(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),o=n[0],c=n[1];return r.a.createElement("div",{className:"MovieItem",onClick:function(){e.onClick(e.data.id)},style:{border:G(e.data.id)?"1px solid red":void 0}},r.a.createElement(Q,{value:e.data.voteAverage,title:"".concat(e.data.title," - ").concat(e.data.voteAverage,"/10"),description:"The note of movie : ".concat(e.data.title),max:10,style:{position:"absolute",width:"3em",height:"auto",top:"0.5em",left:"0.5em"},bgGaugeColor:"#222"}),e.data.posterPath?r.a.createElement("img",{alt:"poster",style:{display:o?"block":"none"},src:"https://image.tmdb.org/t/p/w500/".concat(e.data.posterPath),onLoad:function(){c(!0)}}):K(),e.data.posterPath&&!o?K():null,r.a.createElement("div",null,r.a.createElement("h3",null,e.data.title),r.a.createElement("p",null,e.data.releaseDate)))}n(66);var Z=function(e){return r.a.createElement("div",{className:"ActorItem"},e.person.profile_path?r.a.createElement("img",{alt:"actor",src:"https://image.tmdb.org/t/p/w500".concat(e.person.profile_path)}):r.a.createElement(Y,{text:"Actor not found",textColor:"#FFF",width:500,height:750,secondaryColor:"#00FFFF",primaryColor:"#0000FF"}),r.a.createElement("p",null,r.a.createElement("strong",null,e.person.name)),r.a.createElement("p",null,e.person.character))};n(67);var $=function(e){var t=e.actors;return r.a.createElement("div",{className:"ActorList"},t.map((function(e){return r.a.createElement(Z,{key:e.id,person:e})})))},ee=(n(68),n(69));var te=function(e){var t=e.data,n=Object(a.useState)({}),o=Object(O.a)(n,2),c=o[0],i=o[1],l=Object(a.useState)(G(e.data.id)),s=Object(O.a)(l,2),u=s[0],m=s[1];return Object(a.useEffect)((function(){(function(){var e=Object(y.a)(N.a.mark((function e(t){var n,a,r,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t).catch((function(e){console.error("ERROR",e)}));case 2:return n=e.sent,e.next=5,B(t).catch((function(e){console.error("ERROR",e)}));case 5:a=e.sent,r=a.crew,o=a.cast,i({details:n,cast:o,crew:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e.data.id)}),[e.data.id]),r.a.createElement("div",{className:"MovieShow"},r.a.createElement("h1",null,e.data.title),r.a.createElement("button",{className:u?"active":void 0,onClick:function(){u?function(e){var t=P().filter((function(t){return t!==e}));window.localStorage.setItem("@MyMovieList::Favorites",JSON.stringify(t))}(t.id):function(e){var t=P();t.includes(e)||(console.log("Not prensent, add : ",t,e),window.localStorage.setItem("@MyMovieList::Favorites",JSON.stringify([].concat(Object(w.a)(t),[e]))))}(t.id),m(!u)}},r.a.createElement("img",{src:ee,alt:"favorite icone"})),c.details&&c.details.backdrop_path?r.a.createElement("img",{alt:"banner of movie",className:"banner",src:"https://image.tmdb.org/t/p/w500".concat(c.details.backdrop_path)}):null,r.a.createElement("div",{style:{boxSizing:"border-box",overflow:"auto",padding:"2em"}},e.data.posterPath?r.a.createElement("img",{className:"poster",alt:"poster",src:"https://image.tmdb.org/t/p/w500/".concat(e.data.posterPath)}):null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Date")," : ",e.data.releaseDate),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Resume")," : ",t.overview)),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Distribution")," :"))),c.cast?r.a.createElement($,{actors:c.cast}):null))};n(70);function ne(e){var t=e.movies.filter((function(t){var n=new RegExp(e.search,"gi");return""===e.search.trim()||n.test(t.title)}));return r.a.createElement("div",{className:"MoviesList"},t.map((function(t){return r.a.createElement(X,{key:t.id,data:t,onClick:e.onClickItem})})))}n(71);function ae(e){return r.a.createElement("td",{onClick:function(){e.onClick&&e.onClick()}},e.children)}function re(e){return r.a.createElement("th",{onClick:function(){e.onClick&&e.onClick()}},e.children)}function oe(e){var t=e.header?re:ae;return r.a.createElement(t,{id:e.id,col:e.col,onClick:function(){e.onClick&&e.onClick({id:e.id,col:e.col})},content:e.content},e.content)}function ce(e){var t=e.onClickOnRow,n=e.cells,a=Object(V.a)(e,["onClickOnRow","cells"]);function o(e){var n=e.id,r=e.col;t&&t({row:a.id,col:{id:n,index:r}})}return r.a.createElement("tr",a,n.map((function(e,n){return r.a.createElement(oe,{key:e.id,id:e.id,col:n,content:e.content,onClick:t?o:void 0,header:e.header})})))}function ie(e){var t=e.rows;return r.a.createElement("tbody",null,t?t.map((function(e){return r.a.createElement(ce,{key:e.id,id:e.id,cells:e.cells})})):null)}function le(e){var t=e.rows;return r.a.createElement("tfoot",null,t?t.map((function(e){return r.a.createElement(ce,{key:e.id,id:e.id,cells:e.cells})})):null)}function se(e){var t=e.isSortable,n=e.dataRows,o=e.onSort,c=Object(V.a)(e,["isSortable","dataRows","onSort"]),i=Object(a.useState)(0),l=Object(O.a)(i,2),s=l[0],u=l[1],m=Object(a.useState)(new Map),d=Object(O.a)(m,2),f=d[0],p=d[1];function E(e){var t=new Map(f),n=t.get(e.col.id);void 0!==n?t.set(e.col.id,Object(b.a)(Object(b.a)({},e),{},{alpha:!n.alpha,priority:s})):t.set(e.col.id,Object(b.a)(Object(b.a)({},e),{},{alpha:!0,priority:s})),u(s+1),p(t),o(t)}return r.a.createElement("thead",c,n?n.map((function(e,n){return r.a.createElement(ce,{onClickOnRow:0===n?E:void 0,className:t&&0===n?"sortable":void 0,key:e.id,id:e.id,cells:e.cells})})):null)}function ue(e){return JSON.parse(JSON.stringify(e))}var me=function(e){var t=e.isSortable,n=e.hRows,o=e.bRows,c=e.fRows,i=Object(a.useState)(o||[]),l=Object(O.a)(i,2),s=l[0],u=l[1];return Object(a.useEffect)((function(){u(o||[])}),[o]),r.a.createElement("table",null,r.a.createElement(se,{isSortable:!!t,dataRows:n||[],onSort:function(e){var t=[];e.forEach((function(e){t.push(e)})),t.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));var n=ue(s);t.forEach((function(e){n=function(e,t,n){var a=e.map((function(e,n){return{content:e.cells[t.index].content,rowIndex:n}}));a.sort((function(e,t){var a=n?-1:1,r=0,o=e.content,c=t.content;return"string"===typeof o&&"string"===typeof c?r=o.toLowerCase().localeCompare(c.toLowerCase()):isNaN(o)||isNaN(c)||(o>c?r=-1:o<c&&(r=1)),r*a}));var r=ue(e),o=[];return a.forEach((function(e){o.push(r[e.rowIndex])})),ue(o)}(n,e.col,e.alpha)})),u(n)}}),r.a.createElement(ie,{rows:s||[]}),r.a.createElement(le,{rows:c||[]}))},de=(n(72),n(73));var fe,pe=function(e){return r.a.createElement("header",{className:"MenuBar"},r.a.createElement("img",{src:de,alt:"menu"}),r.a.createElement("h1",null,e.title))};n(74);!function(e){e.TITLE="TITLE",e.ABOUT="ABOUT",e.SEARCH="SEARCH"}(fe||(fe={}));var Ee=fe,he=n(75);function ve(){var e=Object(R.a)(),t=e.t,n=e.i18n,o=Object(a.useState)(""),c=Object(O.a)(o,2),l=c[0],s=c[1],u=Object(a.useState)(),m=Object(O.a)(u,2),d=m[0],f=m[1],p=Object(a.useState)(),E=Object(O.a)(p,2),h=E[0],v=E[1],b=Object(a.useState)(i.a.language),w=Object(O.a)(b,2),g=w[0],N=w[1];Object(a.useEffect)((function(){F().then((function(e){return v(e)}))}),[g]);var y=function(e){n.changeLanguage(e),N(e)},S=function(e){var t=[],n=[];return e&&e.forEach((function(e,a){var r=Object.keys(e);0===a&&t.push({id:"hr_0",cells:r.map((function(e){return{id:"hr_0_".concat(e),content:e,header:!0}}))});var o=e;n.push({id:"br_".concat(a),cells:r.map((function(e){return{id:"br_".concat(a,"_").concat(e),content:o[e]}}))})})),{hRows:t,bRows:n}}(h);return r.a.createElement("div",{className:"Home"},r.a.createElement(pe,{title:t(Ee.TITLE)}),r.a.createElement(z,{onSearch:function(e){e!==l&&(console.log(e),s(e),(""!==e.trim()?function(e){return L.apply(this,arguments)}(e):F()).then((function(e){return v(e)})))}}),S.bRows?r.a.createElement(me,{hRows:S.hRows,isSortable:!0,bRows:S.bRows}):null,h?r.a.createElement(ne,{search:l,movies:h,onClickItem:function(e){if(h){var t=h.find((function(t){return e===t.id}));f(t)}}}):null,d&&d.id&&d.posterPath&&d.releaseDate&&d.title?r.a.createElement(q,{onClose:function(){f(void 0)}},r.a.createElement(te,{data:d})):null,r.a.createElement("div",{style:{margin:"auto",marginTop:"3em",width:"2em",display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(W,{onClick:function(){y("fr")}},r.a.createElement("img",{alt:"fr-flag",src:he}),"FR"),r.a.createElement(W,{onClick:function(){y("en")}},"EN")))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.f2a075e5.chunk.js.map