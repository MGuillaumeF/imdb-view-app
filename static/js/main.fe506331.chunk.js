(this["webpackJsonpimdb-view-app"]=this["webpackJsonpimdb-view-app"]||[]).push([[0],{21:function(e,t,n){e.exports=n(60)},26:function(e,t,n){},27:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){e.exports=n.p+"static/media/heart.baf95af3.svg"},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){e.exports=n.p+"static/media/menu.31b1530d.svg"},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n.n(o);n(26),n(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(1),l=n(19),s=n(2),u=n.n(s),m=n(5),d=n(6),f=n.n(d),p="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmOGZjNmQ3OTVlMzhiNmI1NTdmOWNhN2FhZTFjYzViMyIsInN1YiI6IjVmN2NmNmFmZmRmYzlmMDAzOGI1OTBkNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.7mm9P-EFL-HdQVo2gxao0egAaHujxrm3XiuUzWiLnDY",h="f8fc6d795e38b6b557f9ca7aae1cc5b3",v=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,f.a.get(""!==t.trim()?t:"https://api.themoviedb.org/4/list/1",{headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json;charset=utf-8"}}).catch((function(e){throw console.error(e),e}));case 3:return n=e.sent,console.log(n),e.abrupt("return",n.data.results.map((function(e){return{title:e.title,posterPath:e.poster_path,releaseDate:e.release_date,id:e.id,voteAverage:e.vote_average,overview:e.overview}})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function E(){return(E=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.themoviedb.org/4/search/movie",{params:{language:"fr-FR",query:t},headers:{Authorization:"Bearer "+p,"Content-Type":"application/json;charset=utf-8"}});case 2:return n=e.sent,e.abrupt("return",n.data.results.map((function(e){return{title:e.title,posterPath:e.poster_path,releaseDate:e.release_date,id:e.id,voteAverage:e.vote_average,overview:e.overview}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.themoviedb.org/3/movie/".concat(t),{params:{language:"fr-FR",api_key:h},headers:{Authorization:"Bearer "+p,"Content-Type":"application/json;charset=utf-8"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits"),{params:{language:"fr-FR",api_key:h},headers:{Authorization:"Bearer "+p,"Content-Type":"application/json;charset=utf-8"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){var e=window.localStorage.getItem("@MyMovieList::Favorites");return e?JSON.parse(e):[]}function k(e){return C().includes(e)}var O=n(4);n(46);function x(e){var t=Math.PI/2,n=e.max||100,a=e.min||0,o=e.note;a>n&&(a=0,n=100,console.error("Invalid d\xe9finition of min and max values")),o>n&&(o=n,console.error("Note out of max range")),o<a&&(o=a,console.error("Note out of min range"));var c,i=(o-a)/(n-a),l=2*i*Math.PI;function s(){var e=c.WHITE;return i>.75?e=c.GREEN:i<.5&&(e=c.RED),e}return function(e){e.GREEN="green",e.RED="red",e.WHITE="white"}(c||(c={})),r.a.createElement("svg",{className:"Gauge",style:Object(O.a)({},e.style),viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},r.a.createElement("title",null,"Note"),r.a.createElement("desc",null,"Gauge of percent satisfaction"),r.a.createElement("path",{d:"M0 200 a 200 200 0 1 0 0 -1 z",fill:e.bgGaugeColor||"#FFFFFF"}),i<1?r.a.createElement("path",{d:"M200 50 A 150 150 0 ".concat(l<Math.PI?0:1," 0 ").concat(200+150*Math.cos(l+t)," ").concat(200-150*Math.sin(l+t)),fill:"transparent",stroke:e.strikeGaugeColor||s(),strokeWidth:"20"}):r.a.createElement("circle",{cx:"200",cy:"200",r:"150",fill:"transparent",stroke:e.strikeGaugeColor||s(),strokeWidth:"20"}),r.a.createElement("text",{x:"200",y:"200",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Helvetica,Verdana, Arial, sans-serif",fontSize:"100",fill:e.fontGaugeColor||s()},o))}n(47);function N(e){var t="tt".concat(Date.now()).slice(0,-2);return r.a.createElement("svg",{viewBox:"0 0 ".concat(e.width," ").concat(e.height),xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"Rectangle"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:t,x1:"0%",y1:"0%",x2:"45%",y2:"45%"},r.a.createElement("stop",{offset:"10%",style:{stopColor:e.secondaryColor,stopOpacity:1}}),r.a.createElement("stop",{offset:"100%",style:{stopColor:e.primaryColor,stopOpacity:1}}))),r.a.createElement("rect",{width:e.width,height:e.height,fill:"url(#".concat(t,")"),style:{strokeWidth:3,stroke:"#000000"}}),"Sorry, your browser does not support inline SVG.",r.a.createElement("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Helvetica,Verdana, Arial, sans-serif",fontSize:"50",fill:e.textColor},e.text))}function j(e){return r.a.createElement("div",{className:"MovieItem",onClick:function(){e.onClick(e.data.id)},style:{border:k(e.data.id)?"1px solid red":void 0}},r.a.createElement(x,{note:e.data.voteAverage,max:10,style:{position:"absolute",width:"3em",height:"auto",top:"0.5em",left:"0.5em"},bgGaugeColor:"#222"}),e.data.posterPath?r.a.createElement("img",{alt:"poster",src:"https://image.tmdb.org/t/p/w500/".concat(e.data.posterPath)}):r.a.createElement(N,{text:"Poster not found",textColor:"white",width:500,height:750,primaryColor:"#FF0000",secondaryColor:"#FFFF00"}),r.a.createElement("div",null,r.a.createElement("h3",null,e.data.title),r.a.createElement("p",null,e.data.releaseDate)))}n(48);function S(e){var t=e.movies.filter((function(t){var n=new RegExp(e.search,"gi");return""===e.search.trim()||n.test(t.title)}));return r.a.createElement("div",{className:"MoviesList"},t.map((function(t){return r.a.createElement(j,{key:t.id,data:t,onClick:e.onClickItem})})))}n(49);function F(e){var t=e.name,n=e.submit,a=e.className,o=e.onClick,c=e.style;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement("input",{type:"submit",value:t,className:a||"Button",onClick:function(){o&&o()},style:Object(O.a)({},c)}):r.a.createElement("button",{className:a||"Button",onClick:function(){o&&o()},style:Object(O.a)({},c)},t))}n(50);function R(e){var t=e.onSearch,n=Object(a.useState)(""),o=Object(i.a)(n,2),c=o[0],l=o[1];Object(a.useEffect)((function(){""===c.trim()&&s()}),[c]);var s=function(e){e&&e.preventDefault(),t(c)};return r.a.createElement("form",{className:"SearchBar",onSubmit:s},r.a.createElement("input",{placeholder:"Search",type:"text",value:c,onChange:function(e){l(e.target.value)}}),r.a.createElement(F,{submit:!0,name:"Search"}))}n(51),n(52);function I(e){return r.a.createElement("div",{className:"ModalFade",onClick:function(){e.onClose()}},r.a.createElement("div",{className:"ModalContent",onClick:function(e){e.stopPropagation()}},e.children))}n(53);var M=function(e){return r.a.createElement("div",{className:"ActorItem"},e.person.profile_path?r.a.createElement("img",{alt:"actor",src:"https://image.tmdb.org/t/p/w500".concat(e.person.profile_path)}):r.a.createElement(N,{text:"Actor not found",textColor:"#FFF",width:500,height:750,secondaryColor:"#00FFFF",primaryColor:"#0000FF"}),r.a.createElement("p",null,r.a.createElement("strong",null,e.person.name)),r.a.createElement("p",null,e.person.character))};n(54);var _=function(e){var t=e.actors;return r.a.createElement("div",{className:"ActorList"},t.map((function(e){return r.a.createElement(M,{key:e.id,person:e})})))},A=(n(55),n(56));var B=function(e){var t=e.data,n=Object(a.useState)({}),o=Object(i.a)(n,2),c=o[0],s=o[1],d=Object(a.useState)(k(e.data.id)),f=Object(i.a)(d,2),p=f[0],h=f[1];return Object(a.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(t){var n,a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t).catch((function(e){console.error("ERROR",e)}));case 2:return n=e.sent,e.next=5,w(t).catch((function(e){console.error("ERROR",e)}));case 5:a=e.sent,r=a.crew,o=a.cast,s({details:n,cast:o,crew:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e.data.id)}),[e.data.id]),r.a.createElement("div",{className:"MovieShow"},r.a.createElement("h1",null,e.data.title),r.a.createElement("button",{className:p?"active":void 0,onClick:function(){p?function(e){var t=C().filter((function(t){return t!==e}));window.localStorage.setItem("@MyMovieList::Favorites",JSON.stringify(t))}(t.id):function(e){var t=C();t.includes(e)||(console.log("Not prensent, add : ",t,e),window.localStorage.setItem("@MyMovieList::Favorites",JSON.stringify([].concat(Object(l.a)(t),[e]))))}(t.id),h(!p)}},r.a.createElement("img",{src:A,alt:"favorite icone"})),c.details&&c.details.backdrop_path?r.a.createElement("img",{alt:"banner of movie",className:"banner",src:"https://image.tmdb.org/t/p/w500".concat(c.details.backdrop_path)}):null,r.a.createElement("div",{style:{boxSizing:"border-box",overflow:"auto",padding:"2em"}},e.data.posterPath?r.a.createElement("img",{className:"poster",alt:"poster",src:"https://image.tmdb.org/t/p/w500/".concat(e.data.posterPath)}):null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Date")," : ",e.data.releaseDate),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Resume")," : ",t.overview)),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Distribution")," :"))),c.cast?r.a.createElement(_,{actors:c.cast}):null))},J=n(20);n(57);function z(e){return r.a.createElement("td",{onClick:function(){e.onClick&&e.onClick()}},e.children)}function G(e){return r.a.createElement("th",{onClick:function(){e.onClick&&e.onClick()}},e.children)}function D(e){var t=e.header?G:z;return r.a.createElement(t,{id:e.id,col:e.col,onClick:function(){e.onClick&&e.onClick({id:e.id,col:e.col})},content:e.content},e.content)}function P(e){function t(t){var n=t.id,a=t.col;e.onClick&&e.onClick({row:e.id,col:{id:n,index:a}})}return r.a.createElement("tr",{id:e.id,className:e.className},e.cells.map((function(e,n){return r.a.createElement(D,{key:e.id,id:e.id,col:n,content:e.content,onClick:t,header:e.header})})))}function T(e){var t=e.rows;return r.a.createElement("tbody",null,t?t.map((function(e){return r.a.createElement(P,{key:e.id,id:e.id,cells:e.cells})})):null)}function W(e){var t=e.rows;return r.a.createElement("tfoot",null,t?t.map((function(e){return r.a.createElement(P,{key:e.id,id:e.id,cells:e.cells})})):null)}function L(e){var t=e.isSortable,n=e.rows,o=e.onSort,c=Object(a.useState)(0),l=Object(i.a)(c,2),s=l[0],u=l[1],m=Object(a.useState)(new Map),d=Object(i.a)(m,2),f=d[0],p=d[1];function h(e){var t=new Map(f),n=t.get(e.col.id);void 0!==n?t.set(e.col.id,Object(O.a)(Object(O.a)({},e),{},{alpha:!n.alpha,priority:s})):t.set(e.col.id,Object(O.a)(Object(O.a)({},e),{},{alpha:!0,priority:s})),u(s+1),p(t),o(t)}return r.a.createElement("thead",null,n?n.map((function(e,n){return r.a.createElement(P,{onClick:0===n?h:void 0,className:t&&0===n?"sortable":void 0,key:e.id,id:e.id,cells:e.cells})})):null)}function V(e){return JSON.parse(JSON.stringify(e))}var H=function(e){var t=e.isSortable,n=e.hRows,o=e.bRows,c=e.fRows,l=(Object(J.a)(e,["isSortable","hRows","bRows","fRows"]),Object(a.useState)(o||[])),s=Object(i.a)(l,2),u=s[0],m=s[1];return Object(a.useEffect)((function(){m(o||[])}),[o]),r.a.createElement("table",null,r.a.createElement(L,{isSortable:!!t,rows:n||[],onSort:function(e){var t=[];e.forEach((function(e,n,a){t.push(e)})),t.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));var n=V(u);t.forEach((function(e,t){n=function(e,t,n){var a=e.map((function(e,n){return{content:e.cells[t.index].content,rowIndex:n}}));a.sort((function(e,t){var a=n?-1:1,r=0,o=e.content,c=t.content;return"string"===typeof o&&"string"===typeof c?r=o.toLowerCase().localeCompare(c.toLowerCase()):isNaN(o)||isNaN(c)||(o>c?r=-1:o<c&&(r=1)),r*a}));var r=V(e),o=[];return a.forEach((function(e,t){o.push(r[e.rowIndex])})),V(o)}(n,e.col,e.alpha)})),m(n)}}),r.a.createElement(T,{rows:u||[]}),r.a.createElement(W,{rows:c||[]}))},Z=(n(58),n(59));var Q=function(){return r.a.createElement("header",{className:"MenuBar"},r.a.createElement("img",{src:Z,alt:"menu"}),r.a.createElement("h1",null,"TITLE"))};function Y(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(),l=Object(i.a)(c,2),s=l[0],u=l[1],m=Object(a.useState)(),d=Object(i.a)(m,2),f=d[0],p=d[1];Object(a.useEffect)((function(){v().then((function(e){return p(e)}))}),[]);var h=function(e){var t=[],n=[];return e&&e.forEach((function(e,a){var r=Object.keys(e);0===a&&t.push({id:"hr_0",cells:r.map((function(e){return{id:"hr_0_".concat(e),content:e,header:!0}}))});var o=e;n.push({id:"br_".concat(a),cells:r.map((function(e){return{id:"br_".concat(a,"_").concat(e),content:o[e]}}))})})),{hRows:t,bRows:n}}(f);return r.a.createElement("div",{className:"Home"},r.a.createElement(Q,null),r.a.createElement(R,{onSearch:function(e){e!==n&&(console.log(e),o(e),(""!==e.trim()?function(e){return E.apply(this,arguments)}(encodeURIComponent(e)):v()).then((function(e){return p(e)})))}}),h.bRows?r.a.createElement(H,{hRows:h.hRows,isSortable:!0,bRows:h.bRows}):null,f?r.a.createElement(S,{search:n,movies:f,onClickItem:function(e){if(f){var t=f.find((function(t){return e===t.id}));u(t)}}}):null,s&&s.id&&s.posterPath&&s.releaseDate&&s.title?r.a.createElement(I,{onClose:function(){u(void 0)}},r.a.createElement(B,{data:s})):null)}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.fe506331.chunk.js.map